plugins {
    id "com.liferay.node" version "4.6.15"
}

node {
    version = '10.15.3'
    npmVersion = '6.8.0'
    download = false

//    workDir = file("${project.buildDir}/node")
//    npmWorkDir = file("${project.buildDir}/npm")
//    nodeModulesDir = file("${project.projectDir}")
}

//
//task clearAppFolder(type:Delete, dependsOn: 'buildPackage'){
//    delete fileTree("../java-app/src/main/resources/app").matching {
//    }
//}
//task copyToJar(type: Copy, dependsOn: 'clearAppFolder' ){
//    from("dist")
//    into("../java-app/src/main/resources/app")
//}
//assemble.dependsOn(copyToJar)
//

npmRunClean.mustRunAfter(npmInstall)
npmRunBuild.mustRunAfter(npmRunClean)
//task runTasks{
//    npmRunClean
//    npmRunBuild
//}





